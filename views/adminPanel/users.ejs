<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Users</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="text-secondary bg-light"
  style="background-image: url('/images/login1.jpg'); backdrop-filter: blur(2px); background-size: cover; background-position: center;">
  <div class="min-vh-100 d-flex flex-column">

    <header class="bg-white py-2">
      <div class="container-fluid d-flex justify-content-between align-items-center">
        <nav>
          <a href="/home" class="me-4 text-dark text-decoration-none font-bold" style="font-family: Montserrat, Arial, sans-serif;">Walksus</a>
        </nav>
        <h1 class="fs-4 fw-bold">Admin Panel</h1>
        <nav class="d-flex flex-row">
          <a href="/admin" class="me-4 text-dark text-decoration-none">Home</a>
          <a href="/logout" class="me-4 text-dark text-decoration-none">Logout</a>
          <a href="/profile">
            <img alt="profile" class="rounded-circle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABSUlEQVR4nN2UPU4DMRCFP4KSBgoOQc3CJRAdUYCEW1DwU1MCSRckLoByJTYEuAK/BT9iF430VlotNrYp86QnWfab8XhmPDDv6AADYALkwJuYa68vzb+wA9wDZYB3QC/F8SIwcjgqgKlYOM6HQCvmApfzHFiraTJd1NRdxKSlafQth01knpd0fc47yqcreh9cr3jwFX7gKeI08QLjnks88YgLT4rWPSkyXqdEU+osazi//UPvTOtLoN+LQJvWab5+4TXiU5WRfE5NUZnIm9giPwJX6rBVYEm09b7OnmKL3K8J3oFjYJkwTHMim8p+N/TRxqTjUrYzoO0T9ST6BDYTnG8BX7LdDomHEprBaWBCLgAHwIdszmKiaWkq1jviENgAVkRbH+ms0p3HjusKXeUz1JKzmLT40NbgsrazaO0zGm1te9Yt3oLOB34ACqrfyi5MYE4AAAAASUVORK5CYII=" width="24" height="24">
          </a>
        </nav>
      </div>
    </header>

    <div class="d-flex flex-grow-1">

      <aside class="bg-dark text-white p-4" style="width: 200px;">
        <ul class="list-unstyled">
          <li class="mb-4">
            <a href="./dashboard" class="d-block py-2 px-4 text-white text-decoration-none">Dashboard</a>
          </li>
          <li class="mb-4">
            <a href="./products" class="d-block py-2 px-4 text-white text-decoration-none">Products</a>
          </li>
          <li class="mb-4">
            <a href="./orders" class="d-block py-2 px-4 text-white text-decoration-none">Orders</a>
          </li>
          <li class="mb-4 active">
            <a href="./users" class="d-block py-2 px-4 text-white text-decoration-none">Users</a>
          </li>
          <li class="mb-4">
            <a href="/categories" class="d-block py-2 px-4 text-white text-decoration-none hover:bg-secondary">Categories</a>
        </li>
        </ul>
      </aside>

      <main class="flex-grow-1 p-4">

        <h2 class="fs-4 fw-bold text-center mb-4">Users</h2>

        <div class="table-responsive">
          <table class="table table-bordered table-hover">
            <thead class="bg-dark text-white">
              <tr>
                <th class="px-4 py-2">Username</th>
                <th class="px-4 py-2">Email</th>
                <th class="px-4 py-2">Role</th>
                <th class="px-4 py-2">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% users.forEach(user =>{ %>
              <tr>
                <td class="px-4 py-2"><%= user.username  %></td>
                <td class="px-4 py-2"><%= user.email  %></td>
                <td class="px-4 py-2"><%= user.role  %></td>
                <td class="px-4 py-2">
                  <% if(user.isBlocked){%>
                  <a href="/unBlockUser/<%= user.id %>" class="btn btn-danger me-2" onclick="return confirm('Are you sure you want to Unblock this user?')">Unblock</a>
                  <% }else{ %>
                    <a href="/blockUser/<%= user.id %>" class="btn btn-danger me-2" onclick="return confirm('Are you sure you want to block this user?')">Block</a>
                    <% } %>
                  <% }) %>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

      </main>
    </div>

    <footer class="bg-dark text-white py-2">
      <div class="container text-center">
        <p class="mb-0">&copy; 2024 Admin Panel. All rights reserved.</p>
      </div>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
